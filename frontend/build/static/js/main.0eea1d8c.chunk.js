(this["webpackJsonponline-ecommerce-shop"]=this["webpackJsonponline-ecommerce-shop"]||[]).push([[0],{121:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),l=a.n(c),o=a(10),s=a(7),u=a(29),i=a(73),m=a(74),E=a(2),p={loading:!1,products:[],error:!1},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"PRODUCT_LIST_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,products:t.payload.products,page:t.payload.page,pages:t.payload.pages});case"PRODUCT_LIST_FAIL":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.payload});default:return e}},g={loading:!1,product:{},error:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAIL_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"PRODUCT_DETAIL_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,product:t.payload});case"PRODUCT_DETAIL_FAIL":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.payload});default:return e}},f=a(30),y={cartItems:[],shippingAddress:{}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_ADD_ITEM":var a=t.payload,n=e.cartItems.find((function(e){return e.product===a.product}));return n?Object(E.a)(Object(E.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===n.product?a:e}))}):Object(E.a)(Object(E.a)({},e),{},{cartItems:[].concat(Object(f.a)(e.cartItems),[a])});case"CART_REMOVE_ITEM":return Object(E.a)(Object(E.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case"CART_SAVE_SHIIPING_ADDRESS":return Object(E.a)(Object(E.a)({},e),{},{shippingAddress:t.payload});case"CART_SAVE_PAYMENT_METHOD":return Object(E.a)(Object(E.a)({},e),{},{paymentMethod:t.payload});default:return e}},S={loading:!1,userInfo:{},error:!1},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"USER_LOGIN_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,userInfo:t.payload});case"USER_LOGIN_FAIL":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.payload});case"USER_LOGOUT":return{};default:return e}},O={loading:!1,userInfo:{},error:!1},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"USER_REGISTER_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,userInfo:t.payload});case"USER_REGISTER_FAIL":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.payload});default:return e}},_={loading:!1,user:{},error:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"USER_DETAILS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,user:t.payload});case"USER_DETAILS_FAIL":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.payload});case"USER_DETAILS_RESET":return Object(E.a)(Object(E.a)({},e),{},{user:{}});default:return e}},C={loading:!1,userInfo:{},success:!1,error:!1},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"USER_UPDATE_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{success:!0,loading:!1,userInfo:t.payload});case"USER_UPDATE_FAIL":case"USER_UPDATE_RESET":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.payload});default:return e}},T={loading:!1,success:!1,order:{},error:!1},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_CREATE_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"ORDER_CREATE_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,success:!0,order:t.payload});case"ORDER_CREATE_FAIL":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.payload});default:return e}},A={loading:!0,shippingAddress:{},order:{_id:"",taxPrice:0,shippingPrice:0,totalPrice:0,isPaid:!1,user:"",orderItems:[],shippingAddress:{address:"",city:"",postalCode:"",country:""},paymentMethod:!0},error:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DETAILS_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"ORDER_DETAILS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,order:t.payload});case"ORDER_DETAILS_FAIL":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.payload});default:return e}},D={loading:!1,success:!1,error:!1},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_PAY_REQUEST":return{loading:!0};case"ORDER_PAY_SUCCESS":return{loading:!1,success:!0};case"ORDER_PAY_FAIL":return{loading:!1,error:t.payload};case"ORDER_PAY_RESET":return{};default:return e}},P={loading:!0,orders:[],error:""},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDERS_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"ORDERS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,orders:t.payload});case"ORDERS_FAIL":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.payload});case"ORDERS_RESET":return Object(E.a)(Object(E.a)({},e),{},{orders:[]});default:return e}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS_LIST_REQUEST":return{loading:!0};case"USERS_LIST_SUCCESS":return{loading:!1,users:t.payload};case"USERS_LIST_FAIL":return{loading:!1,error:t.payload};case"USERS_LIST_RESET":return{users:[]};default:return e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DELETE_REQUEST":return{loading:!0};case"USER_DELETE_SUCCESS":return{loading:!1,user:t.payload};case"USER_DELETE_FAIL":return{loading:!1,error:t.payload};default:return e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_ADMIN_REQUEST":return{loading:!0};case"USER_UPDATE_ADMIN_SUCCESS":return{loading:!1,user:t.payload};case"USER_UPDATE_ADMIN_FAIL":return{loading:!1,error:t.payload};default:return e}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DELETE_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"PRODUCT_DELETE_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,success:t.payload});case"PRODUCT_DELETE_FAIL":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.payload});default:return e}},M={loading:!1,product:{},error:!1},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_CREATE_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"PRODUCT_CREATE_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,product:t.payload,success:!0});case"PRODUCT_CREATE_FAIL":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.payload});case"PRODUCT_CREATE_RESET":return{};default:return e}},B={loading:!1,product:{},error:!1,success:!1},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_UPDATE_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"PRODUCT_UPDATE_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,product:t.payload,success:!0});case"PRODUCT_UPDATE_FAIL":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.payload});case"PRODUCT_UPDATE_RESET":return{};default:return e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_LIST_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"ORDER_LIST_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,orders:t.payload});case"ORDER_LIST_FAIL":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.payload});default:return e}},$={loading:!1,success:!1,error:!1},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DELIVER_REQUEST":return{loading:!0};case"ORDER_DELIVER_SUCCESS":return{loading:!1,success:!0};case"ORDER_DELIVER_FAIL":return{loading:!1,error:t.payload};case"ORDER_DELIVER_RESET":return{};default:return e}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REVIEW_CREATE_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"REVIEWCREATE_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,success:!0});case"REVIEW_CREATE_FAIL":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.payload});case"REVIEW_CREATE_RESET":return{};default:return e}},J={loading:!1,products:[],error:!1},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_TOP_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case"PRODUCT_TOP_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,products:t.payload});case"PRODUCT_TOP_FAIL":return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.payload});default:return e}},W=Object(u.combineReducers)({productList:d,productDetail:h,productDelete:G,productCreate:Q,productUpdate:V,productTopRating:Y,cart:b,userLogin:v,userRegister:R,userDetails:I,userUpdate:j,usersList:x,userDelete:N,userUpdateAdmin:F,orderCreate:L,orderDetails:U,orderPay:k,orderDeliver:q,ordersMyList:w,orderList:H,reviewCreate:z}),K=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],X=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,Z={cart:{cartItems:K,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):"Paypal"},userLogin:{userInfo:X}},ee=[i.a],te=Object(u.createStore)(W,Z,Object(m.composeWithDevTools)(u.applyMiddleware.apply(void 0,ee))),ae=(a(97),a(98),a(127)),ne=a(16),re=a(135),ce=a(126),le=a(133),oe=a(15),se=a(8),ue=a.n(se),ie=a(11),me=a(12),Ee=a.n(me),pe=a(9),de=a(132),ge=a(76),he=function(e){var t=e.history,a=Object(n.useState)(""),c=Object(pe.a)(a,2),l=c[0],o=c[1];return r.a.createElement(de.a,{onSubmit:function(e){e.preventDefault(),l.trim()?t.push("/search/".concat(l)):t.push("/")},inline:!0},r.a.createElement(de.a.Control,{type:"text",value:l,placeholder:"Search product...",name:"q",className:"mr-sm-2 ml-sm-5",onChange:function(e){return o(e.target.value)}}),r.a.createElement(ge.a,{type:"submit",vairant:"outline-success",className:"p-2"},"Search"))},fe=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.userLogin})).userInfo;return r.a.createElement("header",null,r.a.createElement(re.a,{bg:"dark",variant:"dark",expand:"lg",className:"px-3"},r.a.createElement(oe.LinkContainer,{to:"/"},r.a.createElement(re.a.Brand,null,"IntelliJ-shop")),r.a.createElement(re.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(re.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(ne.d,{render:function(e){var t=e.history;return r.a.createElement(he,{history:t})}}),r.a.createElement(ce.a,{className:"ml-auto"},r.a.createElement(oe.LinkContainer,{to:"/cart"},r.a.createElement(ce.a.Link,null," ",r.a.createElement("i",{className:"fas fa-shopping-cart mr-1"}),"Cart")),t?r.a.createElement(le.a,{title:t.name,id:"username"},r.a.createElement(oe.LinkContainer,{to:"/profile"},r.a.createElement(le.a.Item,null,"Profil")),r.a.createElement(le.a.Item,{onClick:function(){e((function(e){localStorage.removeItem("userInfo"),e({type:"USER_LOGOUT"}),e({type:"ORDERS_RESET"}),e({type:"USER_DETAILS_RESET"}),e({type:"USERS_LIST_RESET"})}))}},"Log out")):r.a.createElement(oe.LinkContainer,{to:"/login"},r.a.createElement(ce.a.Link,null,r.a.createElement("i",{className:"fas fa-user mr-1"}),"Sign in")),t&&t.isAdmin&&r.a.createElement(le.a,{title:"Admin",id:"admin"},r.a.createElement(oe.LinkContainer,{to:"/admin/user-list"},r.a.createElement(le.a.Item,null,"User List")),r.a.createElement(oe.LinkContainer,{to:"/admin/product-list"},r.a.createElement(le.a.Item,null,"Product List")),r.a.createElement(oe.LinkContainer,{to:"/admin/order-list"},r.a.createElement(le.a.Item,null,"Order List")))))))},ye=a(128),be=a(75),Se=function(){return r.a.createElement("footer",null,r.a.createElement(ae.a,null,r.a.createElement(ye.a,null,r.a.createElement(be.a,{className:"text-center py-3"},"  Copyright \xa92020 IntelliJ-Shop"))))},ve=a(55),Oe=a(137),Re=function(e){var t=e.rating,a=e.numReviews,n=e.color;return r.a.createElement("div",{className:"py-2"},r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",{className:"px-1"},t," from ",a," reviews"))},_e=function(e){var t=e.product,a=t.name,n=t.image,c=t.numReviews,l=t.rating,s=t.price,u=t._id;return r.a.createElement(Oe.a,{style:{width:"16rem"},className:"my-3 p-2 rounded"},r.a.createElement(o.Link,{to:"products/".concat(u)},r.a.createElement(Oe.a.Img,{variant:"top",src:n})),r.a.createElement(Oe.a.Body,null,r.a.createElement(o.Link,{to:"products/".concat(u)},r.a.createElement(Oe.a.Title,null,a)),r.a.createElement(Oe.a.Text,null,r.a.createElement(Re,{rating:l,numReviews:c,color:"#f8e825"})),r.a.createElement(Oe.a.Text,{as:"h5"},"R",s)))},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(ie.a)(ue.a.mark((function a(n){var r,c;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"PRODUCT_LIST_REQUEST"}),a.next=4,Ee.a.get("http://localhost:5000/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:r=a.sent,c=r.data,n({type:"PRODUCT_LIST_SUCCESS",payload:c}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:"PRODUCT_LIST_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},Ce=function(e){return function(){var t=Object(ie.a)(ue.a.mark((function t(a){var n,r;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_DETAIL_REQUEST"}),t.next=4,Ee.a.get("http://localhost:5000/api/products/".concat(e));case 4:n=t.sent,r=n.data,a({type:"PRODUCT_DETAIL_SUCCESS",payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"PRODUCT_DETAIL_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},je=a(129),Te=function(){return r.a.createElement(je.a,{animation:"border",variant:"dark",style:{width:"100px",height:"100px",margin:"auto",display:"block"}},r.a.createElement("span",{className:"sr-only"}," Loading"))},Le=a(136),Ae=function(e){var t=e.variant,a=e.children;return r.a.createElement(Le.a,{variant:t},a)},Ue=a(138),De=function(e){var t=e.pages,a=e.page,n=e.keyword,c=e.isAdmin,l=void 0!==c&&c;return t>1&&r.a.createElement(Ue.a,null,Object(f.a)(Array(t).keys()).map((function(e){return r.a.createElement(oe.LinkContainer,{key:e+1,to:l?"/admin/product-list/".concat(e+1):n?"/search/".concat(n,"/page/").concat(e+1):"/page/".concat(e+1)},r.a.createElement(Ue.a.Item,{active:e+1===a},e+1))})))},ke=a(134),Pe=a(130),we=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.productTopRating})),a=t.loading,c=t.error,l=t.products;return Object(n.useEffect)((function(){e(function(){var e=Object(ie.a)(ue.a.mark((function e(t){var a,n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_TOP_REQUEST"}),e.next=4,Ee.a.get("http://localhost:5000/api/products/top");case 4:a=e.sent,n=a.data,t({type:"PRODUCT_TOP_SUCCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"PRODUCT_TOP_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),a?r.a.createElement(Te,null):c?r.a.createElement(Ae,{variant:"danger"},c):r.a.createElement(ke.a,{pause:"hover",className:"bg-dark"},l.map((function(e){return r.a.createElement(ke.a.Item,{key:e._id},r.a.createElement(o.Link,{to:"/product/".concat(e._id)},r.a.createElement(Pe.a,{src:e.image,alt:e.name,fluid:!0}),r.a.createElement(ke.a.Caption,{className:"carousel-caption"},r.a.createElement("h2",null,e.name," $(",e.price,")"))))})))},xe=function(e){var t=e.match,a=t.params.keyword,c=t.params.pageNumber||1,l=Object(s.b)(),u=Object(s.c)((function(e){return e.productList})),i=u.loading,m=u.error,E=u.products,p=u.pages,d=u.page;return Object(n.useEffect)((function(){l(Ie(a,c))}),[l,a,c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,null,r.a.createElement("title",null," Welcome IntelliJ Shop | Home "),r.a.createElement("meta",{name:"description",content:"We bring the best products to your home"}),r.a.createElement("meta",{name:"keywords",content:"electronics, buy electronics, cheap electronics"})),a?r.a.createElement(o.Link,{to:"/",className:"btn btn-light"},"Go Back"):r.a.createElement(we,null),r.a.createElement("h2",null,"Latest products"),i?r.a.createElement(Te,null):m?r.a.createElement(Ae,{variant:"danger",children:m}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,null,E.map((function(e){return r.a.createElement(be.a,{sm:3,md:6,lg:4,xl:3,key:e._id},r.a.createElement(_e,{product:e}))}))),r.a.createElement(De,{pages:p,page:d,keyword:a||""})))},Ne=a(139),Fe=function(e){var t=e.title,a=e.description,n=e.keyword;return r.a.createElement(ve.a,null,r.a.createElement("title",null,t),r.a.createElement("meta",{name:"description",content:a}),r.a.createElement("meta",{name:"keywords",content:n}))},Ge=function(e){var t=e.match.params.id,a=Object(n.useState)(1),c=Object(pe.a)(a,2),l=c[0],u=c[1],i=Object(n.useState)(0),m=Object(pe.a)(i,2),E=m[0],p=m[1],d=Object(n.useState)(""),g=Object(pe.a)(d,2),h=g[0],y=g[1],b=Object(s.b)(),S=Object(s.c)((function(e){return e.productDetail})),v=S.error,O=S.loading,R=S.product,_=Object(s.c)((function(e){return e.userLogin})).userInfo,I=Object(s.c)((function(e){return e.reviewCreate})),C=I.error,j=I.success;Object(n.useEffect)((function(){j&&(alert("Review Submitted"),p(0),y(""),b({type:"REVIEW_CREATE_RESET"})),b(Ce(t))}),[b,t,j]);var T=R.image,L=R.name,A=R.rating,U=R.numReviews,D=R.price,k=R.description,P=R.countInStock,w=R.reviews;return r.a.createElement(r.a.Fragment,null,O?r.a.createElement(Te,null):v?r.a.createElement(Ae,{variant:"danger",children:v}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe,{description:k,title:L,keyword:L}),r.a.createElement(o.Link,{to:"/",className:"btn btn-dark my-3"},"Back"),r.a.createElement(ye.a,null,r.a.createElement(be.a,{md:6},r.a.createElement(Pe.a,{src:T,alt:L,fluid:!0})),r.a.createElement(be.a,{md:3},r.a.createElement(Ne.a,{variant:"flush"},r.a.createElement(Ne.a.Item,null,r.a.createElement("h3",null,L)),r.a.createElement(Ne.a.Item,null,r.a.createElement(Re,{rating:A,numReviews:U,color:"#f8e825"})),r.a.createElement(Ne.a.Item,null,"Product Price : R",D),r.a.createElement(Ne.a.Item,null,"Description : ",k," "))),r.a.createElement(be.a,{md:3},r.a.createElement(Oe.a,{className:"px-3 py-3"},r.a.createElement(Ne.a,{flush:!0,className:"py-1"},r.a.createElement(ye.a,null,r.a.createElement(be.a,null,"Price"),r.a.createElement(be.a,null,r.a.createElement("strong",null,D)))),r.a.createElement(Ne.a,{flush:!0,className:"py-1"},r.a.createElement(ye.a,null,r.a.createElement(be.a,null,"Status"),r.a.createElement(be.a,null,r.a.createElement("strong",null,P>0?"In Stock":"Out of Stock")))),P>0&&r.a.createElement(Ne.a,null,r.a.createElement(ye.a,null,r.a.createElement(be.a,null,"Qty"),r.a.createElement(be.a,null,r.a.createElement(de.a.Control,{as:"select",value:l,onChange:function(e){u(e.target.value)}},Object(f.a)(Array(P).keys()).map((function(e){return r.a.createElement("option",{key:e+1,value:e+1,className:"mr-2"},e+1," ")})))))),r.a.createElement(Ne.a,{flush:!0,className:"py-1"},r.a.createElement(ge.a,{onClick:function(){e.history.push("/cart/".concat(t,"?qty=").concat(l))},type:"button",disabled:0===P,className:"rounded"},"Add to cart"))))),r.a.createElement(ye.a,null,r.a.createElement(be.a,{md:6,className:"mt-5"},r.a.createElement("h2",null,"Reviews"),w&&0===w.length&&r.a.createElement(Ae,null,"No review "),r.a.createElement(Ne.a,{variant:"flush"},w&&w.map((function(e){return r.a.createElement(Ne.a.Item,{key:e._id},r.a.createElement("strong",null,e.name),r.a.createElement(Re,{value:e.rating}),r.a.createElement("p",null,e.createdAt.substring(0,10)),r.a.createElement("p",null,e.comment))})),r.a.createElement(Ne.a.Item,null,r.a.createElement("h2",null,"Write a customer review"),C&&r.a.createElement(Ae,{variant:"danger"},C),_?r.a.createElement(de.a,{onSubmit:function(e){var a,n;e.preventDefault(),b((a=t,n={rating:E,comments:h},function(){var e=Object(ie.a)(ue.a.mark((function e(t,r){var c,l,o;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"REVIEW_CREATE_REQUEST"}),c=r(),l=c.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},e.next=6,Ee.a.post("http://localhost:5000/api/products/".concat(a,"/reviews"),n,o);case 6:t({type:"REVIEWCREATE_SUCCESS"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"REVIEW_CREATE_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement(de.a.Group,{controlId:"rating"},r.a.createElement(de.a.Label,null,"Rating"),r.a.createElement(de.a.Control,{as:"select",value:E,onChange:function(e){return p(e.target.value)}},r.a.createElement("option",null," Select rating"),r.a.createElement("option",{value:"1"},"1 -Poor"),r.a.createElement("option",{value:"2"},"2 - Fair"),r.a.createElement("option",{value:"3"},"3 - Good"),r.a.createElement("option",{value:"4"},"4 - Very Good"),r.a.createElement("option",{value:"5"},"5 - Excellent"))),r.a.createElement(de.a.Group,{controlId:"comment"},r.a.createElement(de.a.Label,null,"Comment"),r.a.createElement(de.a.Control,{as:"textarea",row:"3",value:h,onChange:function(e){return y(e.target.value)}})),r.a.createElement(ge.a,{type:"submit",variant:"primary"},"Submit")):r.a.createElement(Ae,null,"Please ",r.a.createElement(o.Link,{to:"/login"},"Sign in ")," to write a review")))))))},Me=function(e,t){return function(){var a=Object(ie.a)(ue.a.mark((function a(n,r){var c,l;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ee.a.get("http://localhost:5000/api/products/".concat(e));case 3:c=a.sent,l=c.data,n({type:"CART_ADD_ITEM",payload:{product:l._id,name:l.name,image:l.image,price:l.price,countInStock:l.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}()},Qe=function(e){var t=e.match.params.id,a=e.location.search?Number(e.location.search.split("=")[1]):1,c=Object(s.b)(),l=Object(s.c)((function(e){return e.cart})).cartItems;Object(n.useEffect)((function(){t&&c(Me(t,a))}),[c,t,a]);var u=function(e){c(function(e){return function(t,a){try{t({type:"CART_REMOVE_ITEM",payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems))}catch(n){console.log(n.message)}}}(e))};return r.a.createElement(ye.a,null,r.a.createElement(be.a,{md:8},r.a.createElement("h1",null,"Shopping Cart"),0===l.length?r.a.createElement(Ae,null," Your cart is empty ",r.a.createElement(o.Link,{to:"/"},"Go Back")):r.a.createElement(Ne.a,{variant:"flush"},l.map((function(e){return r.a.createElement(Ne.a.Item,{key:e.product},r.a.createElement(ye.a,null,r.a.createElement(be.a,{md:2},r.a.createElement(Pe.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(be.a,{md:3},r.a.createElement(o.Link,{to:"products/".concat(e.product)},e.name)),r.a.createElement(be.a,{md:2}," ",e.price),r.a.createElement(be.a,{md:2},r.a.createElement(de.a.Control,{as:"select",value:e.qty,onChange:function(t){return c(Me(e.product,Number(t.target.value)))}},Object(f.a)(Array(e.countInStock).keys()).map((function(e){return r.a.createElement("option",{key:e+1,value:e+1,className:"mr-2"},e+1," ")})))),r.a.createElement(be.a,{md:2},r.a.createElement(ge.a,{type:"button",variant:"light",onClick:function(){return u(e.product)}},r.a.createElement("i",{className:"fas fa-trash"})))))})))),r.a.createElement(be.a,{md:4},r.a.createElement(Oe.a,null,r.a.createElement(Ne.a,{variant:"flush"},r.a.createElement(Ne.a.Item,null,r.a.createElement("h2",null,"Subtotal (",l.reduce((function(e,t){return e+t.qty}),0),") items "),"$ (",l.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2),")"),r.a.createElement(Ne.a.Item,null,r.a.createElement(ge.a,{type:"button",className:"btn-block",disabled:0===l.length,onClick:function(){e.history.push("/login?redirect=shipping")}},"Proceed to Checkout"))))))},Be=function(e){var t=e.children;return r.a.createElement(ae.a,null,r.a.createElement(ye.a,{className:"justify-content-md-center"},r.a.createElement(be.a,{xs:12,md:6},t)))},Ve=function(e){var t=e.location,a=e.history,c=t.search?t.search.split("=")[1]:"/",l=Object(s.b)(),u=Object(s.c)((function(e){return e.userLogin})),i=u.error,m=u.loading,E=u.userInfo,p=Object(n.useState)(""),d=Object(pe.a)(p,2),g=d[0],h=d[1],f=Object(n.useState)(""),y=Object(pe.a)(f,2),b=y[0],S=y[1];Object(n.useEffect)((function(){E&&a.push(c)}),[c,a,E]);return r.a.createElement(Be,null,r.a.createElement("h1",null,"Sign in"),i&&r.a.createElement(Ae,{variant:"danger"},i),m&&r.a.createElement(Te,null),r.a.createElement(de.a,{onSubmit:function(e){e.preventDefault(),l(function(e,t){return function(){var a=Object(ie.a)(ue.a.mark((function a(n){var r,c,l;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"USER_LOGIN_REQUEST"}),r={headers:{"Content-Type":"application/json"}},a.next=5,Ee.a.post("http://localhost:5000/api/users/login",{email:e,password:t},r);case 5:c=a.sent,l=c.data,n({type:"USER_LOGIN_SUCCESS",payload:l}),console.log(l),localStorage.setItem("userInfo",JSON.stringify(l)),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),n({type:"USER_LOGIN_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()}(g,b))}},r.a.createElement(de.a.Group,{controlId:"email"},r.a.createElement(de.a.Label,null,"Email address"),r.a.createElement(de.a.Control,{type:"email",placeholder:"enter email",value:g,onChange:function(e){return h(e.target.value)}})),r.a.createElement(de.a.Group,{controlId:"password"},r.a.createElement(de.a.Label,null,"Password"),r.a.createElement(de.a.Control,{type:"password",placeholder:"enter password",value:b,onChange:function(e){return S(e.target.value)}})),r.a.createElement(ge.a,{type:"submit",variant:"primary"},"Sign In")),r.a.createElement(ye.a,{className:"py-3"},r.a.createElement(be.a,null,"New Customer ? ",r.a.createElement(o.Link,{to:c?"/register?redirect=".concat(c):"/register"}," Register now"))))},He=function(e){var t=e.location,a=e.history,c=t.search?t.search.split("=")[1]:"/",l=Object(s.b)(),u=Object(s.c)((function(e){return e.userRegister})),i=u.error,m=u.loading,E=u.userInfo,p=Object(n.useState)(""),d=Object(pe.a)(p,2),g=d[0],h=d[1],f=Object(n.useState)(""),y=Object(pe.a)(f,2),b=y[0],S=y[1],v=Object(n.useState)(""),O=Object(pe.a)(v,2),R=O[0],_=O[1],I=Object(n.useState)(""),C=Object(pe.a)(I,2),j=C[0],T=C[1],L=Object(n.useState)(null),A=Object(pe.a)(L,2),U=A[0],D=A[1];Object(n.useEffect)((function(){E||a.push(c)}),[c,a,E]);return r.a.createElement(Be,null,r.a.createElement("h1",null,"Sign up"),U&&r.a.createElement(Ae,{variant:"danger"},U),i&&r.a.createElement(Ae,{variant:"danger"},i),m&&r.a.createElement(Te,null),r.a.createElement(de.a,{onSubmit:function(e){e.preventDefault(),R!==j?D("Password does not match"):l(function(e,t,a){return function(){var n=Object(ie.a)(ue.a.mark((function n(r){var c,l,o;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"USER_REGISTER_REQUEST"}),c={headers:{"Content-Type":"application/json"}},n.next=5,Ee.a.post("http://localhost:5000/api/users",{name:e,email:t,password:a},c);case 5:l=n.sent,o=l.data,r({type:"USER_REGISTER_SUCCESS",payload:o}),r({type:"USER_LOGIN_SUCCESS",payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),console.log("THIS IS THE ERROR ",n.t0),r({type:"USER_REGISTER_FAIL",payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 16:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(g,b,R))}},r.a.createElement(de.a.Group,{controlId:"name"},r.a.createElement(de.a.Label,null,"Your name"),r.a.createElement(de.a.Control,{type:"text",placeholder:"enter your name",value:g,onChange:function(e){return h(e.target.value)}})),r.a.createElement(de.a.Group,{controlId:"email"},r.a.createElement(de.a.Label,null,"Email address"),r.a.createElement(de.a.Control,{type:"email",placeholder:"enter email",value:b,onChange:function(e){return S(e.target.value)}})),r.a.createElement(de.a.Group,{controlId:"password"},r.a.createElement(de.a.Label,null,"Password"),r.a.createElement(de.a.Control,{type:"password",placeholder:"enter password",value:R,onChange:function(e){return _(e.target.value)}})),r.a.createElement(de.a.Group,{controlId:"confirmPassword"},r.a.createElement(de.a.Label,null,"Confirm Password"),r.a.createElement(de.a.Control,{type:"password",placeholder:"confirm password",value:j,onChange:function(e){return T(e.target.value)}})),r.a.createElement(ge.a,{type:"submit",variant:"primary"},"Sign In")),r.a.createElement(ye.a,{className:"py-3"},r.a.createElement(be.a,null,"Already have an account ? ",r.a.createElement(o.Link,{to:c?"/login?login=".concat(c):"/login"}," LogIn"))))},$e=a(131),qe=function(e){e.location;var t=e.history,a=Object(s.b)(),c=Object(s.c)((function(e){return e.userDetails})),l=c.error,o=c.loading,u=c.user,i=Object(s.c)((function(e){return e.userLogin})).userInfo,m=Object(s.c)((function(e){return e.userUpdate})).success,E=Object(s.c)((function(e){return e.ordersMyList})),p=E.error,d=E.loading,g=E.orders,h=Object(n.useState)(""),f=Object(pe.a)(h,2),y=f[0],b=f[1],S=Object(n.useState)(""),v=Object(pe.a)(S,2),O=v[0],R=v[1],_=Object(n.useState)(""),I=Object(pe.a)(_,2),C=I[0],j=I[1],T=Object(n.useState)(""),L=Object(pe.a)(T,2),A=L[0],U=L[1],D=Object(n.useState)(null),k=Object(pe.a)(D,2),P=k[0],w=k[1];Object(n.useEffect)((function(){var e;i?u.name?(b(u.name),R(u.email)):(a((e="profile",function(){var t=Object(ie.a)(ue.a.mark((function t(a,n){var r,c,l,o,s;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_DETAILS_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Ee.a.get("http://localhost:5000/api/users/".concat(e),l);case 6:o=t.sent,s=o.data,a({type:"USER_DETAILS_SUCCESS",payload:s}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("THIS IS THE ERROR ",t.t0),a({type:"USER_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}())),a(function(){var e=Object(ie.a)(ue.a.mark((function e(t,a){var n,r,c,l,o;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ORDERS_REQUEST"}),n=a(),r=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,Ee.a.get("http://localhost:5000/api/orders/myorders",c);case 6:l=e.sent,o=l.data,console.log(o),t({type:"ORDERS_SUCCESS",payload:o.orders}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"ORDERS_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}())):t.push("/login")}),[t,i,a,u]);return r.a.createElement(ye.a,{className:"mt-5"},r.a.createElement(be.a,{md:4},r.a.createElement(Be,null,r.a.createElement("h3",null,"My Profile"),P&&r.a.createElement(Ae,{variant:"danger"},P),l&&r.a.createElement(Ae,{variant:"danger"},l),m&&r.a.createElement(Ae,{variant:"success"},"Profil Update"),o&&r.a.createElement(Te,null),r.a.createElement(de.a,{onSubmit:function(e){e.preventDefault(),C!==A?w("Password does not match"):a(function(e){return function(){var t=Object(ie.a)(ue.a.mark((function t(a,n){var r,c,l,o,s;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_UPDATE_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Ee.a.put("http://localhost:5000/api/users/profile",e,l);case 6:o=t.sent,s=o.data,a({type:"USER_UPDATE_SUCCESS",payload:s}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("THIS IS THE ERROR ",t.t0),a({type:"USER_UPDATE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({id:u._id,name:y,email:O,password:C}))}},r.a.createElement(de.a.Group,{controlId:"email"},r.a.createElement(de.a.Label,null,"Your name"),r.a.createElement(de.a.Control,{type:"text",placeholder:"enter your name",value:y,onChange:function(e){return b(e.target.value)}})),r.a.createElement(de.a.Group,{controlId:"email"},r.a.createElement(de.a.Label,null,"Email address"),r.a.createElement(de.a.Control,{type:"email",placeholder:"enter email",value:O,onChange:function(e){return R(e.target.value)}})),r.a.createElement(de.a.Group,{controlId:"password"},r.a.createElement(de.a.Label,null,"Password"),r.a.createElement(de.a.Control,{type:"password",placeholder:"enter password",value:C,onChange:function(e){return j(e.target.value)}})),r.a.createElement(de.a.Group,{controlId:"confirmPassword"},r.a.createElement(de.a.Label,null,"Confirm Password"),r.a.createElement(de.a.Control,{type:"password",placeholder:"confirm password",value:A,onChange:function(e){return U(e.target.value)}})),r.a.createElement(ge.a,{type:"submit",variant:"primary"},"Update ")))),r.a.createElement(be.a,{md:8},r.a.createElement("h2",null,"My Orders"),p&&r.a.createElement(Ae,{variant:"danger"},p),d?r.a.createElement(Te,null):r.a.createElement($e.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null))),r.a.createElement("tbody",null,g.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.createdAt.substring(0,10)),r.a.createElement("td",null,e.totalPrice),r.a.createElement("td",null,e.isPaid?e.createdAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,e.isDelivered?e.createdAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(oe.LinkContainer,{to:"/order/".concat(e._id)},r.a.createElement(ge.a,{variant:"light",className:"btn-sm"},"Details"))))}))))))},ze=function(e){var t=e.step1,a=e.step2,n=e.step3,c=e.step4;return r.a.createElement(ce.a,{className:"justify-content-center mb-4"},r.a.createElement(ce.a.Item,null,t?r.a.createElement(oe.LinkContainer,{to:"/login"},r.a.createElement(ce.a.Link,null,"Sign In")):r.a.createElement(ce.a.Link,{disabled:!0},"Sign In")),r.a.createElement(ce.a.Item,null,a?r.a.createElement(oe.LinkContainer,{to:"/shipping"},r.a.createElement(ce.a.Link,null,"Shipping")):r.a.createElement(ce.a.Link,{disabled:!0},"Shipping")),r.a.createElement(ce.a.Item,null,n?r.a.createElement(oe.LinkContainer,{to:"/payement"},r.a.createElement(ce.a.Link,null,"Payement")):r.a.createElement(ce.a.Link,{disabled:!0},"Payement")),r.a.createElement(ce.a.Item,null,c?r.a.createElement(oe.LinkContainer,{to:"/placeorder"},r.a.createElement(ce.a.Link,null,"Place Order")):r.a.createElement(ce.a.Link,{disabled:!0},"Place Order")))},Je=function(e){var t=e.history,a=Object(s.b)(),c=Object(s.c)((function(e){return e.cart})).shippingAddress,l=Object(n.useState)(c.address),o=Object(pe.a)(l,2),u=o[0],i=o[1],m=Object(n.useState)(c.city),E=Object(pe.a)(m,2),p=E[0],d=E[1],g=Object(n.useState)(c.postalCode),h=Object(pe.a)(g,2),f=h[0],y=h[1],b=Object(n.useState)(c.country),S=Object(pe.a)(b,2),v=S[0],O=S[1];return r.a.createElement(Be,null,r.a.createElement(ze,{step1:!0,step2:!0}),r.a.createElement("h1",null,"Shipping"),r.a.createElement(de.a,{onSubmit:function(e){var n;e.preventDefault(),a((n={address:u,city:p,postalCode:f,country:v},function(e){e({type:"CART_SAVE_SHIIPING_ADDRESS",payload:n}),localStorage.setItem("shippingAddress",JSON.stringify(n))})),t.push("/payment")}},r.a.createElement(de.a.Group,{controlId:"address"},r.a.createElement(de.a.Label,null,"Address"),r.a.createElement(de.a.Control,{type:"text",placeholder:"enter your address",value:u,onChange:function(e){return i(e.target.value)},required:!0})),r.a.createElement(de.a.Group,{controlId:"city"},r.a.createElement(de.a.Label,null,"City"),r.a.createElement(de.a.Control,{type:"text",placeholder:"enter your City",value:p,onChange:function(e){return d(e.target.value)},required:!0})),r.a.createElement(de.a.Group,{controlId:"postalCode"},r.a.createElement(de.a.Label,null,"Postal Code"),r.a.createElement(de.a.Control,{type:"text",placeholder:"enter your postal code",value:f,onChange:function(e){return y(e.target.value)},required:!0})),r.a.createElement(de.a.Group,{controlId:"country"},r.a.createElement(de.a.Label,null,"Country"),r.a.createElement(de.a.Control,{type:"text",placeholder:"enter your country",value:v,onChange:function(e){return O(e.target.value)},required:!0})),r.a.createElement(ge.a,{type:"submit",variant:"primary"},"Continue")))},Ye=function(e){var t=e.history,a=Object(s.b)();Object(s.c)((function(e){return e.cart})).shippingAddress||t.push("/shipping");var c=Object(n.useState)("PayPal"),l=Object(pe.a)(c,2),o=l[0],u=l[1];return r.a.createElement(Be,null,r.a.createElement(ze,{step1:!0,step2:!0,step3:!0}),r.a.createElement("h1",null,"Payment Method"),r.a.createElement(de.a,{onSubmit:function(e){var n;e.preventDefault(),a((n=o,function(e){e({type:"CART_SAVE_PAYMENT_METHOD",payload:n}),localStorage.setItem("paymentMethod",JSON.stringify(n))})),t.push("/placeorder")}},r.a.createElement(de.a.Group,{controlId:"address"},r.a.createElement(de.a.Label,{as:"legent"},"Select Method"),r.a.createElement(be.a,null,r.a.createElement(de.a.Check,{type:"radio",label:"Paypal or Credit Card",id:"PayPal",name:"PaymentMethod",value:"Paypal",checked:!0,onChange:function(e){return u(e.target.value)}}),r.a.createElement(de.a.Check,{type:"radio",label:"Stripe",id:"Stripe",name:"PaymentMethod",value:"Stripe",onChange:function(e){return u(e.target.value)}}))),r.a.createElement(ge.a,{type:"submit",variant:"primary",className:"mt-3"},"Continue")))},We=function(e){var t=e.history,a=Object(s.b)(),c=Object(s.c)((function(e){return e.cart})),l=Object(s.c)((function(e){return e.orderCreate})),u=l.order,i=l.success,m=l.error,E=function(e){return(Math.round(100*e)/100).toFixed(2)};c.itemsPrice=E(c.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0)),c.shippingPrice=E(c.itemsPrice>100?0:100),c.taxPrice=E(Number((.15*c.itemsPrice).toFixed(2))),c.totalPrice=(Number(c.itemsPrice)+Number(c.taxPrice)+Number(c.shippingPrice)).toFixed(2);var p=c.cartItems,d=c.shippingAddress,g=c.itemsPrice,h=c.taxPrice,f=c.shippingPrice,y=c.totalPrice;Object(n.useEffect)((function(){i&&t.push("order/".concat(u._id))}),[i,t,u]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{step1:!0,step2:!0,step3:!0,step4:!0}),r.a.createElement(ye.a,null,r.a.createElement(be.a,{md:8},r.a.createElement(Ne.a,{variant:"flush"},r.a.createElement(Ne.a.Item,null,r.a.createElement("h2",null,"Shiiping"),r.a.createElement("p",null,r.a.createElement("strong",null,"Address : "),c.shippingAddress.address,", ",c.shippingAddress.city,",",c.shippingAddress.postalCode,", ",c.shippingAddress.country)),r.a.createElement(Ne.a.Item,null,r.a.createElement("h2",null,"Payment Method"),r.a.createElement("p",null,r.a.createElement("strong",null,"Method : "),c.paymentMethod)),r.a.createElement(Ne.a.Item,null,r.a.createElement("h2",null,"Ordered items"),0===c.cartItems.length?r.a.createElement(Ae,null," Your card is empty "):r.a.createElement(Ne.a,{variant:"flush"},c.cartItems.map((function(e,t){return r.a.createElement(Ne.a.Item,{key:t},r.a.createElement(ye.a,null,r.a.createElement(be.a,{md:1},r.a.createElement(Pe.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(be.a,null,r.a.createElement(o.Link,{to:"product/".concat(e.product)}," ",e.name)),r.a.createElement(be.a,{md:4},e.qty," x $",e.price," = $",e.qty*e.price)))})))))),r.a.createElement(be.a,{md:4},r.a.createElement(Oe.a,null,r.a.createElement(Ne.a,{variant:"flush"},r.a.createElement(Ne.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(Ne.a.Item,null,r.a.createElement(ye.a,null,r.a.createElement(be.a,null,"Items"),r.a.createElement(be.a,null,"$",c.itemsPrice))),r.a.createElement(Ne.a.Item,null,r.a.createElement(ye.a,null,r.a.createElement(be.a,null,"Shipping"),r.a.createElement(be.a,null,"$",c.shippingPrice))),r.a.createElement(Ne.a.Item,null,r.a.createElement(ye.a,null,r.a.createElement(be.a,null,"Tax"),r.a.createElement(be.a,null,"$",c.taxPrice))),r.a.createElement(Ne.a.Item,null,r.a.createElement(ye.a,null,r.a.createElement(be.a,null,"Total"),r.a.createElement(be.a,null,"$",c.totalPrice))),r.a.createElement(Ne.a.Item,null,m&&r.a.createElement(Ae,{variant:"danger"},m)),r.a.createElement(Ne.a.Item,null,r.a.createElement(ge.a,{type:"button",className:"btn btn-block",disabled:0===c.cartItems.length,onClick:function(){a(function(e){return function(){var t=Object(ie.a)(ue.a.mark((function t(a,n){var r,c,l,o,s;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_CREATE_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Ee.a.post("http://localhost:5000/api/orders",e,l);case 6:o=t.sent,s=o.data,a({type:"ORDER_CREATE_SUCCESS",payload:s.order}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"ORDER_CREATE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({orderItems:p,shippingAddress:d,paymentMethod:!0,itemsPrice:g,taxPrice:h,shippingPrice:f,totalPrice:y}))}},"Place Order")))))))},Ke=a(83),Xe=function(e){var t,a=e.match,c=e.history,l=Object(n.useState)(!1),u=Object(pe.a)(l,2),i=u[0],m=u[1],E=a.params.id,p=Object(s.b)(),d=Object(s.c)((function(e){return e.orderDetails})),g=d.order,h=d.loading,f=d.error,y=Object(s.c)((function(e){return e.userDetails})).userInfo,b=Object(s.c)((function(e){return e.orderPay})),S=b.loading,v=b.sucess,O=Object(s.c)((function(e){return e.orderDeliver})),R=O.loading,_=O.sucess;if(!h){g.itemsPrice=(t=g.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0),(Math.round(100*t)/100).toFixed(2))}Object(n.useEffect)((function(){y||c.push("/login");var e,t=function(){var e=Object(ie.a)(ue.a.mark((function e(){var t,a,n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.a.get("http://localhost:5000/api/config/paypal");case 2:t=e.sent,a=t.data,(n=document.createElement("script")).type="text/javascript",n.src="https://www.paypal.com/sdk/js?client-id=".concat(a),n.async=!0,n.onload=function(){m(!0)},document.body.appendChild(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!g||v||_||g._id!==E?(p({type:"ORDER_PAY_RESET"}),p({type:"ORDER_DELIVER_RESET"}),p((e=E,function(){var t=Object(ie.a)(ue.a.mark((function t(a,n){var r,c,l,o,s;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_DETAILS_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Ee.a.get("http://localhost:5000/api/orders/".concat(e),l);case 6:o=t.sent,s=o.data,a({type:"ORDER_DETAILS_SUCCESS",payload:s.order}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"ORDER_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()))):g.isPaid||(window.paypal?m(!0):t())}),[p,E,g,v,_,c,y]);return h?r.a.createElement(Te,null):f?r.a.createElement(Ae,{variant:"danger"},f):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null," Order ",g._id),r.a.createElement(ye.a,null,r.a.createElement(be.a,{md:8},r.a.createElement(Ne.a,{variant:"flush"},r.a.createElement(Ne.a.Item,null,r.a.createElement("h2",null,"Shiiping"),r.a.createElement("p",null,r.a.createElement("strong",null,"Name : ")," ",g.user.name),r.a.createElement("p",null,r.a.createElement("a",{href:"mailto:".concat(g.user.email)},g.user.email)),r.a.createElement("p",null,r.a.createElement("strong",null,"Address : "),g.shippingAddress.address,", ",g.shippingAddress.city,",",g.shippingAddress.postalCode,", ",g.shippingAddress.country),g.isDelivered?r.a.createElement(Ae,{variant:"success"},"Delivered at ",g.deliveredAt):r.a.createElement(Ae,{variant:"danger"},"Not Delivered")),r.a.createElement(Ne.a.Item,null,r.a.createElement("h2",null,"Payment Method"),r.a.createElement("p",null,r.a.createElement("strong",null,"Method : "),g.paymentMethod),g.isPaid?r.a.createElement(Ae,{variant:"success"},"Paid on ",g.isPaidAt):r.a.createElement(Ae,{variant:"danger"},"Not Paid")),r.a.createElement(Ne.a.Item,null,r.a.createElement("h2",null,"Ordered items"),0===g.orderItems.length?r.a.createElement(Ae,null," order is empty "):r.a.createElement(Ne.a,{variant:"flush"},g.orderItems.map((function(e,t){return r.a.createElement(Ne.a.Item,{key:t},r.a.createElement(ye.a,null,r.a.createElement(be.a,{md:1},r.a.createElement(Pe.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(be.a,null,r.a.createElement(o.Link,{to:"product/".concat(e.product)}," ",e.name)),r.a.createElement(be.a,{md:4},e.qty," x $",e.price," = $",e.qty*e.price)))})))))),r.a.createElement(be.a,{md:4},r.a.createElement(Oe.a,null,r.a.createElement(Ne.a,{variant:"flush"},r.a.createElement(Ne.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(Ne.a.Item,null,r.a.createElement(ye.a,null,r.a.createElement(be.a,null,"Items"),r.a.createElement(be.a,null,"$",g.itemsPrice))),r.a.createElement(Ne.a.Item,null,r.a.createElement(ye.a,null,r.a.createElement(be.a,null,"Shipping"),r.a.createElement(be.a,null,"$",g.shippingPrice))),r.a.createElement(Ne.a.Item,null,r.a.createElement(ye.a,null,r.a.createElement(be.a,null,"Tax"),r.a.createElement(be.a,null,"$",g.taxPrice))),r.a.createElement(Ne.a.Item,null,r.a.createElement(ye.a,null,r.a.createElement(be.a,null,"Total"),r.a.createElement(be.a,null,"$",g.totalPrice))),!g.isPaid&&r.a.createElement(Ne.a.Item,null,S&&r.a.createElement(Te,null),i?r.a.createElement(Ke.PayPalButton,{amount:g.totalPrice,onSuccess:function(e){p(function(e,t){return function(){var a=Object(ie.a)(ue.a.mark((function a(n,r){var c,l,o,s,u;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"ORDER_PAY_REQUEST"}),c=r(),l=c.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},a.next=6,Ee.a.put("http://localhost:5000/api/orders/".concat(e,"/pay"),t,o);case 6:s=a.sent,u=s.data,n({type:"ORDER_PAY_SUCCESS",payload:u.order}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:"ORDER_PAY_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(E,e))}}):r.a.createElement(Te,null)),R&&r.a.createElement(Te,null),y&&y.isAdmin&&g.isPaid&&!g.isDelivered&&r.a.createElement(Ne.a.item,null,r.a.createElement(ge.a,{type:"button",className:"btn btn-clock",onClick:function(){p(function(e){return function(){var t=Object(ie.a)(ue.a.mark((function t(a,n){var r,c,l;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_DELIVER_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Ee.a.put("http://localhost:5000/api/orders/".concat(e._id,"/deliver"),{},l);case 6:a({type:"ORDER_DELIVER_SUCCESS"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"ORDER_DELIVER_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(g))}})))))))},Ze=function(e){var t=e.history,a=Object(s.b)(),c=Object(s.c)((function(e){return e.usersList})),l=c.loading,o=c.error,u=c.users,i=Object(s.c)((function(e){return e.userLogin})).userInfo,m=Object(s.c)((function(e){return e.userDelete})).success;Object(n.useEffect)((function(){i&&i.isAdmin?a(function(){var e=Object(ie.a)(ue.a.mark((function e(t,a){var n,r,c,l,o;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"USERS_LIST_REQUEST"}),n=a(),r=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,Ee.a.get("http://localhost:5000/api/users/",c);case 6:l=e.sent,o=l.data,t({type:"USERS_LIST_SUCCESS",payload:o}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("THIS IS THE ERROR ",e.t0),t({type:"USERS_LIST_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[a,t,i,m]);var E=function(e){window.confirm("Are you sure ? ")&&a(function(e){return function(){var t=Object(ie.a)(ue.a.mark((function t(a,n){var r,c,l,o,s;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_DELETE_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Ee.a.delete("http://localhost:5000/api/users/".concat(e),l);case 6:o=t.sent,s=o.data,a({type:"USER_DELETE_SUCCESS",payload:s}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("THIS IS THE ERROR ",t.t0),a({type:"USER_DELETE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Users"),l?r.a.createElement(Te,null):o?r.a.createElement(Ae,{variant:"danger"},o):r.a.createElement($e.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Admin"))),r.a.createElement("tbody",null,u.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("a",{href:"mailTo : ".concat(e.email)},e.email)),r.a.createElement("td",null,e.isAdmin?r.a.createElement("i",{className:"fas fa-check",style:{color:"green"}}):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(oe.LinkContainer,{to:{pathname:"/admin/user/".concat(e._id,"/edit"),state:{userName:e.name,userEmail:e.email,userIsAdmin:e.isAdmin}}},r.a.createElement(ge.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(ge.a,{variant:"danger",className:"btn-sm",onClick:function(){return E(e._id)}},r.a.createElement("i",{className:"fas fa-trash"}))))})))))},et=function(e){var t=e.location,a=e.match,c=Object(s.b)(),l=Object(ne.k)(),u=a.params.id,i=t.state,m=i.userName,E=i.userEmail,p=i.userIsAdmin,d=Object(n.useState)(m),g=Object(pe.a)(d,2),h=g[0],f=g[1],y=Object(n.useState)(E),b=Object(pe.a)(y,2),S=b[0],v=b[1],O=Object(n.useState)(p),R=Object(pe.a)(O,2),_=R[0],I=R[1],C=Object(s.c)((function(e){return e.userDetails})),j=C.error,T=C.loading,L=Object(s.c)((function(e){return e.userUpdateAdmin})),A=L.user,U=L.loading,D=L.error;console.log(L),Object(n.useEffect)((function(){A&&A.name&&l.push("/admin/user-list")}),[A,l]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Link,{to:"/admin/user-list"},"Go Back"),r.a.createElement(Be,null,r.a.createElement("h1",null,"User Edit Screen"),U&&r.a.createElement(Te,null),D&&r.a.createElement(Ae,{variant:"danger"},j),j&&r.a.createElement(Ae,{variant:"danger"},j),T?r.a.createElement(Te,null):r.a.createElement(de.a,{onSubmit:function(e){var t,a;e.preventDefault(),c((t={name:h,email:S,isAdmin:_},a=u,function(){var e=Object(ie.a)(ue.a.mark((function e(n,r){var c,l,o,s,u;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:"USER_UPDATE_ADMIN_REQUEST"}),c=r(),l=c.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},e.next=6,Ee.a.put("http://localhost:5000/api/users/".concat(a),t,o);case 6:s=e.sent,u=s.data,n({type:"USER_UPDATE_ADMIN_SUCCESS",payload:u}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("THIS IS THE ERROR ",e.t0),n({type:"USER_UPDATE_ADMIN_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement(de.a.Group,{controlId:"name"},r.a.createElement(de.a.Label,null,"Your name"),r.a.createElement(de.a.Control,{type:"text",placeholder:"enter your name",value:h,onChange:function(e){return f(e.target.value)}})),r.a.createElement(de.a.Group,{controlId:"email"},r.a.createElement(de.a.Label,null,"Email address"),r.a.createElement(de.a.Control,{type:"email",placeholder:"enter email",value:S,onChange:function(e){return v(e.target.value)}})),r.a.createElement(de.a.Group,{controlId:"isAdmin"},r.a.createElement(de.a.Label,null,"Password"),r.a.createElement(de.a.Check,{type:"checkbox",label:"is Admin",checked:_,onChange:function(e){return I(e.target.checked)}})),r.a.createElement(ge.a,{type:"submit",variant:"primary"},"Update "))))},tt=function(e){var t=e.history,a=e.match.params.pageNumber||1,c=Object(s.b)(),l=Object(s.c)((function(e){return e.productList})),o=l.loading,u=l.error,i=l.products,m=l.pages,E=l.page,p=Object(s.c)((function(e){return e.userLogin})).userInfo,d=Object(s.c)((function(e){return e.productCreate})),g=d.loading,h=d.error,f=d.product,y=d.success,b=Object(s.c)((function(e){return e.productDelete})),S=b.loading,v=b.error,O=b.success;Object(n.useEffect)((function(){c({type:"PRODUCT_CREATE_RESET"}),p&&p.isAdmin?c(Ie()):t.push("/login"),y?t.push("/admin/product/".concat(f._id,"/edit")):c(Ie("",a))}),[c,t,p,O,f,y,a]);var R=function(e){window.confirm("Are you sure ? ")&&c(function(e){return function(){var t=Object(ie.a)(ue.a.mark((function t(a,n){var r,c,l;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_DELETE_REQUEST"}),r=n(),c=r.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Ee.a.delete("http://localhost:5000/api/products/".concat(e),l);case 6:a({type:"PRODUCT_DELETE_SUCCESS",payload:!0}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"PRODUCT_DELETE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{className:"align-items-center"},r.a.createElement(be.a,null,r.a.createElement("h1",null,"Products")),r.a.createElement(be.a,{className:"text-right"},r.a.createElement(ge.a,{className:"my-3",onClick:function(){c(function(){var e=Object(ie.a)(ue.a.mark((function e(t,a){var n,r,c,l,o;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_CREATE_REQUEST"}),n=a(),r=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,Ee.a.post("http://localhost:5000/api/products/",{},c);case 6:l=e.sent,o=l.data,t({type:"PRODUCT_CREATE_SUCCESS",payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"PRODUCT_CREATE_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())}},r.a.createElement("i",{className:"fas fa-plus"}),"Create Product"))),g&&r.a.createElement(Te,null),h&&r.a.createElement(Ae,{variant:"danger"},u),S&&r.a.createElement(Te,null),v&&r.a.createElement(Ae,{variant:"danger"},u),o?r.a.createElement(Te,null):u?r.a.createElement(Ae,{variant:"danger"},u):r.a.createElement(r.a.Fragment,null,r.a.createElement($e.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Brand"))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"$",e.price),r.a.createElement("td",null,e.category),r.a.createElement("td",null,e.brand),r.a.createElement("td",null,r.a.createElement(oe.LinkContainer,{to:{pathname:"/admin/product/".concat(e._id,"/edit"),state:{product:e}}},r.a.createElement(ge.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(ge.a,{variant:"danger",className:"btn-sm",onClick:function(){return R(e._id)}},r.a.createElement("i",{className:"fas fa-trash"}))))})))),r.a.createElement(De,{pages:m,page:E,isAdmin:!0})))},at=function(e){e.location;var t=e.match,a=Object(s.b)(),c=Object(ne.k)(),l=t.params.id,u=Object(s.c)((function(e){return e.productDetail})),i=u.error,m=u.loading,E=u.product,p=Object(s.c)((function(e){return e.productUpdate})),d=p.error,g=p.loading,h=p.success,f=Object(n.useState)(),y=Object(pe.a)(f,2),b=y[0],S=y[1],v=Object(n.useState)(),O=Object(pe.a)(v,2),R=O[0],_=O[1],I=Object(n.useState)(),C=Object(pe.a)(I,2),j=C[0],T=C[1],L=Object(n.useState)(),A=Object(pe.a)(L,2),U=A[0],D=A[1],k=Object(n.useState)(),P=Object(pe.a)(k,2),w=P[0],x=P[1],N=Object(n.useState)(),F=Object(pe.a)(N,2),G=F[0],M=F[1],Q=Object(n.useState)(),B=Object(pe.a)(Q,2),V=B[0],H=B[1],$=Object(n.useState)(!1),q=Object(pe.a)($,2),z=q[0],J=q[1];Object(n.useEffect)((function(){E.name&&E._id===l?(S(E.name),_(E.price),T(E.image),D(E.brand),x(E.category),H(E.countInStock),M(E.description)):a(Ce(l)),h&&(a({type:"PRODUCT_UPDATE_RESET"}),c.push("/admin/product-list"))}),[a,l,E,h,c]);var Y=function(){var e=Object(ie.a)(ue.a.mark((function e(t){var a,n,r,c,l;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("image",a),J(!0),e.prev=4,r={headers:{"Content-Type":"multipart/form-data"}},e.next=8,Ee.a.post("http://localhost:5000/api/upload",n,r);case 8:c=e.sent,l=c.data,T(l),J(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0),J(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Link,{to:"/admin/product-list"},"Go Back"),r.a.createElement(Be,null,r.a.createElement("h1",null,"Edit Product"),g&&r.a.createElement(Te,null),d&&r.a.createElement(Ae,{variant:"danger"},i),i&&r.a.createElement(Ae,{variant:"danger"},i),m?r.a.createElement(Te,null):r.a.createElement(de.a,{onSubmit:function(e){e.preventDefault(),a(function(e,t){return function(){var a=Object(ie.a)(ue.a.mark((function a(n,r){var c,l,o,s,u;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"PRODUCT_UPDATE_REQUEST"}),c=r(),l=c.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},a.next=6,Ee.a.put("http://localhost:5000/api/products/".concat(t),e,o);case 6:s=a.sent,u=s.data,n({type:"PRODUCT_UPDATE_SUCCESS",payload:u}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:"PRODUCT_UPDATE_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()}({name:b,price:R,image:j,brand:U,category:w,countInStock:V,description:G},l))}},r.a.createElement(de.a.Group,{controlId:"name"},r.a.createElement(de.a.Label,null,"Name"),r.a.createElement(de.a.Control,{type:"text",placeholder:"Enter your name",value:b,onChange:function(e){return S(e.target.value)}})),r.a.createElement(de.a.Group,{controlId:"price"},r.a.createElement(de.a.Label,null,"Price"),r.a.createElement(de.a.Control,{type:"number",placeholder:"Enter price",value:R,onChange:function(e){return _(e.target.value)}})),r.a.createElement(de.a.Group,{controlId:"image"},r.a.createElement(de.a.Label,null,"Image"),r.a.createElement(de.a.Control,{type:"text",placeholder:"Enter image url",value:j,onChange:function(e){return T(e.target.value)}}),r.a.createElement(de.a.File,{id:"image-file",label:"Choose file",custom:!0,onChange:Y}),z&&r.a.createElement(Te,null)),r.a.createElement(de.a.Group,{controlId:"brand"},r.a.createElement(de.a.Label,null,"Brand"),r.a.createElement(de.a.Control,{type:"text",placeholder:"Enter brand",value:U,onChange:function(e){return D(e.target.value)}})),r.a.createElement(de.a.Group,{controlId:"category"},r.a.createElement(de.a.Label,null,"Category"),r.a.createElement(de.a.Control,{type:"text",placeholder:"Enter category",value:w,onChange:function(e){return x(e.target.value)}})),r.a.createElement(de.a.Group,{controlId:"countInStock"},r.a.createElement(de.a.Label,null,"Count in stock"),r.a.createElement(de.a.Control,{type:"number",placeholder:"Enter countInStock",value:V,onChange:function(e){return H(e.target.value)}})),r.a.createElement(de.a.Group,{controlId:"description"},r.a.createElement(de.a.Label,null,"Description"),r.a.createElement(de.a.Control,{type:"text",placeholder:"Enter description",value:G,onChange:function(e){return M(e.target.value)}})),r.a.createElement(ge.a,{type:"submit",variant:"primary"},"Update"," "))))},nt=function(){var e=Object(s.b)(),t=Object(ne.k)(),a=Object(s.c)((function(e){return e.userLogin})).userInfo,c=Object(s.c)((function(e){return e.orderList})),l=c.error,o=c.loading,u=c.orders;return Object(n.useEffect)((function(){a&&a.isAdmin?e(function(){var e=Object(ie.a)(ue.a.mark((function e(t,a){var n,r,c,l,o;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ORDER_LIST_REQUEST"}),n=a(),r=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,Ee.a.get("http://localhost:5000/api/orders/",c);case 6:l=e.sent,o=l.data,t({type:"ORDER_LIST_SUCCESS",payload:o.orders}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"ORDER_LIST_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[e,t,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{className:"align-items-center mt-5"},r.a.createElement(be.a,null,r.a.createElement("h1",null,"Orders"))),o?r.a.createElement(Te,null):l?r.a.createElement(Ae,{variant:"danger"},l):r.a.createElement($e.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm mt-3"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"User"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Total Price "),r.a.createElement("th",null,"Paid"),r.a.createElement("th",null,"Delivered"))),r.a.createElement("tbody",null,u.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.user&&e.user.name),r.a.createElement("td",null,e.createdAt.substring(0,10)),r.a.createElement("td",null,"$",e.totalPrice),r.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,e.isDelivered?e.deliveredAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(oe.LinkContainer,{to:"/order/".concat(e._id,"/")},r.a.createElement(ge.a,{variant:"light",className:"btn-sm"},"Detail"))))})))))},rt=function(){return r.a.createElement("div",null,r.a.createElement(fe,null),r.a.createElement("main",{className:"py-4"},r.a.createElement(ae.a,null,r.a.createElement(ne.d,{path:"/",exact:!0,component:xe}),r.a.createElement(ne.d,{path:"/search/:keyword",exact:!0,component:xe}),r.a.createElement(ne.d,{path:"/page/:pageNumber",exact:!0,component:xe}),r.a.createElement(ne.d,{path:"/search/:keyword/page/:pageNumber",exact:!0,component:xe}),r.a.createElement(ne.d,{path:"/login",exact:!0,component:Ve}),r.a.createElement(ne.d,{path:"/register",exact:!0,component:He}),r.a.createElement(ne.d,{path:"/profile",exact:!0,component:qe}),r.a.createElement(ne.d,{path:"/shipping",exact:!0,component:Je}),r.a.createElement(ne.d,{path:"/payment",exact:!0,component:Ye}),r.a.createElement(ne.d,{path:"/placeorder",exact:!0,component:We}),r.a.createElement(ne.d,{path:"/order/:id",exact:!0,component:Xe}),r.a.createElement(ne.d,{path:"/products/:id",exact:!0,component:Ge}),r.a.createElement(ne.d,{path:"/cart/:id",component:Qe}),r.a.createElement(ne.d,{path:"/admin/product-list",exact:!0,component:tt}),r.a.createElement(ne.d,{path:"/admin/product-list/:pageNumber",exact:!0,component:tt}),r.a.createElement(ne.d,{path:"/admin/product/:id/edit",exact:!0,component:at}),r.a.createElement(ne.d,{path:"/admin/user-list",exact:!0,component:Ze}),r.a.createElement(ne.d,{path:"/admin/user/:id/edit",exact:!0,component:et}),r.a.createElement(ne.d,{path:"/admin/order-list",exact:!0,component:nt}))),r.a.createElement(Se,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.BrowserRouter,null,r.a.createElement(s.a,{store:te},r.a.createElement(rt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,a){e.exports=a(121)},97:function(e,t,a){},98:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.0eea1d8c.chunk.js.map